language: python
python:
  - "2.7"

env:
  global:
    secure: YSBRHI2WC7R6XpTzcIZYMZMGxFKxjXgio8pB2shZRJQtX+tt3lSix8niSJIh5t7/X51+UNHNgpkjGqJkGi+69vtdpQMT/sHE8gfvqinvt+a+mcEsQTEKb42a1SygS8WG7QE/6sdiVA2lLL1JtpBirXjhXP+wf36WjKcL1NfmMebQv78WpsJ2DjS097l3IlRgezgc2TRioHf2UARi6z6i5x2WIr6fjxcunb6R692uY9E0IWW0mJF77elS124UQ/uzZ95Vtuo0yxxblwcWfQZL+1Ik2Mnwma3CNE9squh8+7tbpsm2ImMD5Ppjl1t3U0bVJ50RdD1V0bLPmFeVT7ur9XA5bybC5x9IXdRtKYQDq0GxN0kz8JCHbiNKiR9MNpvbKW+QjiTei73VlXf0oo2FwwTrqCQ4O6AJJiqF/boa6JBdBtjWG8rvld/ipx/mxkpkcG8E9jlrLwTgL2ZYCKjBNsSfD7YDvowubEsFUhyeGnNUtH0ipCMk8vjIy/ny1bZY9wKr5FxOaI397NM3hdZk6XbkbIdJk5YXWtguS5/EM5pkIn6TAMX1xe/XjsoVUKTqZ5myFBKsEsrScJwpagK1PEGEKSgxvSiH0/ImZE7LjUSBjguOJ/l6l2Pgl5/Bge9XqmKQNry/xdFpwKIndiDqiefLTa62zi3JDEQdEhfYd4k=

cache: 
#  - apt
  - pip

sudo: false

# addons:
#   apt:
#     packages:
#     - texlive-latex-recommended
#     - texlive-latex-extra
#     - texlive-fonts-recommended

install:
  - pip install "Sphinx==1.2.3"
  - pip install "sphinxcontrib-phpdomain"
  - cd cilexer && python setup.py install && cd ..

script:
  - make html
  - bash ./deploy-gh-pages.sh

# Flags used here, not in `make html`:
#  -n   Run in nit-picky mode. Currently, this generates warnings for all missing references.
#  -W   Turn warnings into errors. This means that the build stops at the first warning and sphinx-build exits with exit status 1.
